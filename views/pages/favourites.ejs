<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include ('../partials/head') %>
    <title>Favourites | CYL 😹</title>
  </head>
  <body>
    <%- include ('../partials/header') %>

    <main>
      <section id="favourites">
        <h1>Favourites</h1>
        <a href="/">Back</a>
        <form action="/favourites/deleteAll" method="POST">
          <button type="submit" class="deleteAllBtn">Delete all</button>
        </form>

        <ol>
          <% if(favouritesArray.length > 0){ %> <%
          favouritesArray.forEach(({cat, setup, punchline, id}) => { %>
          <li>
            <img src="<%= cat %>" alt="" />
            <div>
              <p><%= setup %></p>
              <p><%= punchline %></p>
            </div>

            <div>
              <a href="/favourites/<%- id %>" class="checkBtn"></a>
              <form action="/favourites" method="POST">
                <input type="hidden" value="<%- cat%>" name="cat" />
                <input type="hidden" value="<%- setup%>" name="setup" />
                <input type="hidden" value="<%- punchline%>" name="punchline" />
                <input type="hidden" value="<%- id%>" name="id" />
                <button class="deleteBtn" type="submit"></button>
              </form>
            </div>
          </li>
          <% }) %> <% }else{ %>
          <p>No favourite combo's yet 🙁</p>
          <% }%>
        </ol>
      </section>
    </main>

    <%- include ('../partials/footer') %>
  </body>
</html>
